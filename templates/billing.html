<!DOCTYPE html>
<html>
<head>
<title>Billing</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container mt-4">
<h3>Billing</h3>

<form method="post" class="card p-4">
<select class="form-control mb-3" name="product_id">
{% for p in products %}
<option value="{{ p.id }}">{{ p.name }} (₹{{ p.price }} | Stock {{ p.quantity }})</option>
{% endfor %}
</select>

<input class="form-control mb-3" name="qty" placeholder="Quantity" required>
<button class="btn btn-success">Generate Bill</button>
</form>

{% if bill %}
<div class="card p-4 mt-3">
<h4>Invoice</h4>
<p>Product: {{ bill.name }}</p>
<p>Price: ₹{{ bill.price }}</p>
<p>Quantity: {{ bill.qty }}</p>
<h4>Total: ₹{{ bill.total }}</h4>
</div>
{% endif %}

{% if error %}
<div class="alert alert-danger mt-3">{{ error }}</div>
{% endif %}

<a href="/dashboard" class="btn btn-secondary mt-3">Back</a>
</div>

</body>
</html>
